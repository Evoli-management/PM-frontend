import{e as n}from"./index-DJ9WloyM.js";const d=r=>{const t=String(r||"todo").toLowerCase();return t==="open"?"todo":t==="in progress"||t==="in_progress"?"in_progress":t==="done"||t==="completed"||t==="closed"?"completed":t==="blocked"||t==="canceled"?"cancelled":t},u=r=>{const t=String(r||"todo").toLowerCase();return t==="todo"?"open":t==="in_progress"?"in_progress":t==="completed"?"done":t==="cancelled"||t==="canceled"?"blocked":t},m=r=>{const t=String(r||"medium").toLowerCase();return t==="normal"||t==="med"?"medium":t},c=r=>{const t=String(r||"medium").toLowerCase();return t==="medium"?"normal":t},a="/tasks",y={async list({keyAreaId:r,unassigned:t}={}){var p,o;const s={};r&&(s.keyAreaId=r),t&&(s.unassigned=!0);try{return(await n.get(a,{params:s})).data.map(i=>({...i,status:u(i.status),priority:c(i.priority)}))}catch(e){const i=(p=e==null?void 0:e.response)==null?void 0:p.status,l=(o=e==null?void 0:e.response)==null?void 0:o.data;if(console.warn("Tasks list failed",{status:i,data:l}),i===500)return[];throw e}},async get(r){const s=(await n.get(`${a}/${r}`)).data;return{...s,status:u(s.status),priority:c(s.priority)}},async create(r){const s=(await n.post(a,{...r,status:d(r.status),priority:m(r.priority)})).data;return{...s,status:u(s.status),priority:c(s.priority)}},async update(r,t){const s={...t};s.status&&(s.status=d(s.status)),s.priority&&(s.priority=m(s.priority));const o=(await n.put(`${a}/${r}`,s)).data;return{...o,status:u(o.status),priority:c(o.priority)}},async remove(r){return(await n.delete(`${a}/${r}`)).data}};export{y as default};
