const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BUnWIXZW.js","assets/index-BEysPkgy.css"])))=>i.map(i=>d[i]);
import{r as i,j as e,R as u,_ as c}from"./index-BUnWIXZW.js";const k=u.lazy(()=>c(()=>import("./index-BUnWIXZW.js").then(a=>a.e),__vite__mapDeps([0,1]))),g=u.lazy(()=>c(()=>import("./index-BUnWIXZW.js").then(a=>a.h),__vite__mapDeps([0,1])));function f({isOpen:a,onClose:n,onSave:d,defaultType:m="task",initialData:t={},preselectedKeyArea:o=null,preselectedTask:b=null}){const[l,x]=i.useState(m),h=s=>{d==null||d(s,l)};return a?e.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[600px] max-w-[95vw] max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 bg-slate-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Add to Calendar"}),e.jsx("button",{type:"button",onClick:n,className:"text-slate-500 hover:text-slate-700 text-xl",children:"âœ•"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${l==="task"?"bg-blue-600 text-white":"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50"}`,onClick:()=>x("task"),children:"ðŸ“‹ Task"}),e.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${l==="activity"?"bg-green-600 text-white":"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50"}`,onClick:()=>x("activity"),children:"âš¡ Activity"})]})]}),e.jsx("div",{className:"relative",children:l==="task"?e.jsx(i.Suspense,{fallback:e.jsx("div",{role:"status","aria-live":"polite",className:"p-4",children:"Loadingâ€¦"}),children:e.jsx(k,{isOpen:!0,onCancel:n,onClose:n,onSave:h,initialData:{...t||{},key_area_id:(t==null?void 0:t.key_area_id)||o||(t==null?void 0:t.keyAreaId)},renderInline:!0})}):e.jsx(i.Suspense,{fallback:e.jsx("div",{role:"status","aria-live":"polite",className:"p-4",children:"Loadingâ€¦"}),children:e.jsx(g,{isOpen:!0,onCancel:n,initialData:t,preselectedKeyArea:o,preselectedTask:b,renderInline:!0,onSave:async s=>{try{const r=await c(()=>import("./index-BUnWIXZW.js").then(_=>_.d),__vite__mapDeps([0,1])),v=(r==null?void 0:r.default)||r,p={text:s.text||s.title||"",taskId:s.taskId||s.task_id||null,...s},j=await v.create(p);h(j,"activity")}catch(r){throw console.error("Failed to create activity from calendar modal",r),r}}})})}),e.jsx("div",{className:"px-6 py-3 bg-slate-50 border-t border-slate-200",children:e.jsx("div",{className:"text-xs text-slate-600",children:l==="task"?e.jsxs(e.Fragment,{children:["ðŸ“‹ ",e.jsx("strong",{children:"Tasks"})," are structured work items with deadlines, priorities, and assignments."]}):e.jsxs(e.Fragment,{children:["âš¡ ",e.jsx("strong",{children:"Activities"})," are quick notes about what you did or what happened."]})})})]})}):null}export{f as default};
