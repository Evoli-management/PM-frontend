import{r as a,j as l}from"./index-DJ9WloyM.js";function h({open:c,onClose:r,children:b}){const u=a.useRef(null),f=a.useRef(null);return a.useEffect(()=>{if(!c)return;f.current=document.activeElement;const t=u.current,x=()=>{try{const n=t==null?void 0:t.querySelector('a[href], button:not([disabled]), input:not([disabled]), textarea:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])');n&&typeof n.focus=="function"?n.focus():t&&typeof t.focus=="function"&&t.focus()}catch{}},m=window.setTimeout(x,50),d=e=>{if(e.key==="Escape"){r&&r();return}if(e.key==="Tab")try{const s=Array.from(t.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), textarea:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(y=>y.offsetParent!==null);if(s.length===0)return;const o=s.indexOf(document.activeElement);let i=0;e.shiftKey?i=o<=0?s.length-1:o-1:i=o===-1||o===s.length-1?0:o+1,s[i].focus(),e.preventDefault()}catch{}};return document.addEventListener("keydown",d),()=>{window.clearTimeout(m),document.removeEventListener("keydown",d);try{const e=f.current;e&&typeof e.focus=="function"&&e.focus()}catch{}}},[c,r]),c?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r}),l.jsx("div",{ref:u,className:"relative",tabIndex:-1,"aria-modal":"true",role:"dialog",children:b})]}):null}export{h as M};
