import{r as u,j as e,S as K}from"./index-DxY2qJbz.js";function X({data:d=[],labels:x=[]}){const r=u.useRef(null),[i,o]=u.useState(null),a={top:8,right:12,bottom:26,left:36},b=680-a.left-a.right,l=180-a.top-a.bottom,v=Math.max(...d,10),p=Math.min(...d,0),k=v-p||1,N=d.map((m,h)=>{const f=h/Math.max(1,d.length-1)*b+a.left,S=a.top+(l-(m-p)/k*l);return{x:f,y:S,v:m,i:h}}),L=`M${a.left},${a.top+l} L ${N.map(m=>`${m.x},${m.y}`).join(" L ")} L ${a.left+b},${a.top+l} Z`,A=N.map(m=>`${m.x},${m.y}`).join(" "),O=4,C=Array.from({length:O+1},(m,h)=>Math.round(p+h/O*k));function T(m){const h=r.current,f=h.createSVGPoint();f.x=m.clientX,f.y=m.clientY;const S=f.matrixTransform(h.getScreenCTM().inverse()),w=N.reduce((W,P)=>Math.abs(P.x-S.x)<Math.abs(W.x-S.x)?P:W,N[0]);o({x:w.x,y:w.y,value:w.v,label:x[w.i]||`#${w.i+1}`})}return e.jsxs("div",{className:"relative w-full",children:[e.jsxs("svg",{ref:r,viewBox:`0 0 ${b+a.left+a.right} ${l+a.top+a.bottom}`,className:"w-full h-48 rounded-md",onMouseMove:T,onMouseLeave:()=>o(null),children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"g",x1:"0",x2:"0",y1:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.18"}),e.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]})}),C.map((m,h)=>{const f=a.top+(l-(m-p)/k*l);return e.jsxs("g",{children:[e.jsx("line",{x1:a.left,x2:a.left+b,y1:f,y2:f,stroke:"#e6eefb",strokeWidth:1}),e.jsx("text",{x:a.left-8,y:f+4,textAnchor:"end",fontSize:"11",fill:"#6b7280",children:m})]},h)}),N.map((m,h)=>e.jsxs("g",{children:[e.jsx("line",{x1:m.x,x2:m.x,y1:a.top+l,y2:a.top+l+6,stroke:"#cde0ff"}),e.jsx("text",{x:m.x,y:a.top+l+18,textAnchor:"middle",fontSize:"11",fill:"#6b7280",children:x[h]||h+1})]},h)),e.jsx("path",{d:L,fill:"url(#g)",stroke:"none"}),e.jsx("polyline",{fill:"none",stroke:"#2563eb",strokeWidth:2.5,points:A,strokeLinejoin:"round",strokeLinecap:"round"}),N.map((m,h)=>e.jsx("circle",{cx:m.x,cy:m.y,r:3.5,fill:"#2563eb",stroke:"#fff",strokeWidth:1},h))]}),i&&e.jsxs("div",{className:"absolute bg-[Canvas] shadow rounded px-3 py-2 text-sm text-[CanvasText] z-50 pointer-events-none",style:{left:Math.min(Math.max(i.x-40,8),b+a.left+a.right-120),top:i.y-56},children:[e.jsx("div",{className:"font-semibold",children:i.label}),e.jsxs("div",{className:"text-xs opacity-70",children:["Value: ",i.value]})]})]})}function ee({events:d=[],onReorder:x,getCountdownBadge:r}){const i=u.useRef(null);function o(l){i.current=l}function a(l){l.preventDefault()}function b(l){const v=i.current;if(v==null||v===l)return;const p=[...d],[k]=p.splice(v,1);p.splice(l,0,k),x==null||x(p),i.current=null}return d.length?e.jsx("ul",{className:"divide-y text-[CanvasText]",children:d.map((l,v)=>e.jsxs("li",{className:"py-3 flex items-center gap-3",draggable:!0,onDragStart:()=>o(v),onDragOver:a,onDrop:()=>b(v),title:`${l.title} â€¢ ${l.start}â€“${l.end}`,children:[e.jsx("span",{className:"text-xs px-2 py-0.5 rounded border border-[CanvasText]/20 bg-[Canvas] text-[CanvasText]",children:l.start}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:l.title}),e.jsxs("div",{className:"text-xs opacity-60",children:["ends ",l.end]})]}),r&&(()=>{const p=r(l);return e.jsx("span",{className:`text-xs px-2 py-1 rounded ${p.className}`,title:"Time until start/end",children:p.text})})(),e.jsx("span",{className:"cursor-grab opacity-60",title:"Drag to reprioritize",children:"â‹®â‹®"})]},l.id))}):e.jsx("div",{className:"opacity-60 text-[CanvasText]",children:"No appointments today."})}function te({items:d=[],onItemClick:x}){return e.jsx("ul",{className:"space-y-3 text-[CanvasText]",children:d.map((r,i)=>e.jsxs("li",{className:`flex justify-between items-start ${x?"cursor-pointer hover:bg-[Canvas]/40 rounded px-2 -mx-2":""}`,onClick:x?()=>x(r):void 0,children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.desc}),e.jsx("div",{className:"text-xs opacity-60",children:"by system"})]}),e.jsx("div",{className:"text-xs opacity-60",children:r.time})]},i))})}function se({onOpen:d,message:x}){const r=["task","goal","stroke","note","appointment"];return e.jsxs("div",{className:"bg-[Canvas] rounded-lg shadow-sm p-3 mb-6 flex items-center gap-3 border text-[CanvasText]",children:[e.jsx("div",{className:"flex gap-2",children:r.map(i=>e.jsxs("button",{onClick:()=>d==null?void 0:d(i),className:"px-3 py-2 bg-blue-600 text-white rounded-md text-sm",children:["+ ",i.charAt(0).toUpperCase()+i.slice(1)]},i))}),e.jsx("div",{className:"flex-1 text-sm opacity-70",children:"Quick Add: tasks, goals, strokes, notes, and appointments."}),x&&e.jsx("div",{className:"text-sm font-medium",style:{color:"CanvasText"},children:x})]})}function ae({strokes:d={received:[],given:[]},onGive:x}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-[CanvasText]",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"font-semibold text-sm",children:"Received"})}),d.received.length===0?e.jsx("div",{className:"opacity-60 text-sm",children:"No recognitions yet."}):e.jsx("ul",{className:"space-y-2",children:d.received.map(r=>e.jsxs("li",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:r.from}),": ",r.msg]}),e.jsxs("div",{className:"text-xs opacity-60",children:[r.time," ago"]})]},r.id))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm mb-2",children:"Given"}),d.given.length===0?e.jsx("div",{className:"opacity-60 text-sm",children:"Havenâ€™t given any recognitions yet."}):e.jsx("ul",{className:"space-y-2",children:d.given.map(r=>e.jsxs("li",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"text-sm",children:["To ",e.jsx("span",{className:"font-medium",children:r.to}),": ",r.msg]}),e.jsxs("div",{className:"text-xs opacity-60",children:[r.time," ago"]})]},r.id))})]})]})}function E({title:d,tooltip:x,children:r,href:i}){const o=i?"a":"div",a=i?{href:i}:{};return e.jsxs("div",{className:"bg-[Canvas] rounded-2xl shadow p-4 border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm font-semibold text-[CanvasText]",children:d}),x&&e.jsx("span",{className:"text-xs text-[CanvasText] opacity-60",title:x,children:"â„¹ï¸"})]}),e.jsx(o,{...a,className:i?"block":void 0,children:r})]})}function ne({productive:d=0,trap:x=0}){const r=d+x||1,i=Math.min(100,Math.max(0,d/r*100));return e.jsxs("div",{className:"flex items-center gap-4 text-[CanvasText]",children:[e.jsxs("svg",{viewBox:"0 0 32 32",className:"w-24 h-24",children:[e.jsx("circle",{r:"16",cx:"16",cy:"16",fill:"currentColor",opacity:"0.12"}),e.jsx("circle",{r:"16",cx:"16",cy:"16",fill:"transparent",stroke:"#22c55e",strokeWidth:"32",strokeDasharray:`${i} 100`,transform:"rotate(-90 16 16)"})]}),e.jsxs("div",{className:"text-sm text-[CanvasText]/70",children:[e.jsxs("div",{children:[e.jsx("span",{className:"inline-block w-3 h-3 bg-green-500 mr-2"}),"Goal-aligned"]}),e.jsxs("div",{children:[e.jsx("span",{className:"inline-block w-3 h-3 bg-red-500 mr-2"}),"Trap"]})]})]})}function re({values:d=[],compareValues:x=[]}){const r=Math.max(d.length,x.length||0),i=a=>Math.max(0,Math.min(10,Number(a)||0)),o=a=>`${i(a)*10}%`;return e.jsx("div",{className:"flex items-end gap-2 h-32 text-[CanvasText]",children:Array.from({length:r}).map((a,b)=>{const l=d[b]??0,v=x[b]??null;return e.jsxs("div",{className:"relative w-6 h-full",children:[v!=null&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-blue-400/30",style:{height:o(v)},title:`Prev: ${v}h`}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-blue-500/70",style:{height:o(l)},title:`Now: ${l}h`})]},b)})})}const le=[{desc:"Alice completed task: Design header",time:"2h"},{desc:"Bob moved 'Payment' to In Progress",time:"1d"},{desc:"New member invited: Carlos",time:"3d"}],ie=[{title:"Launch MVP",progress:72},{title:"Improve onboarding",progress:40}],U=[{id:1,title:"Daily Standup",start:"09:00",end:"09:15"},{id:2,title:"Client Call",start:"11:00",end:"11:45"},{id:3,title:"Focus: API integration",start:"14:00",end:"16:00"}],oe={received:[{id:1,from:"Dana",msg:"Great work on the release!",time:"1d"}],given:[{id:2,to:"Bob",msg:"Thanks for jumping on the bug fix.",time:"3d"}]};function xe(){const[d,x]=u.useState(!0);u.useEffect(()=>{const t=setTimeout(()=>x(!1),400);return()=>clearTimeout(t)},[]);const r=[10,12,8,15,18,20,22,20,19,21,23,22],i={widgets:{quickAdd:!0,myDay:!0,goals:!0,enps:!0,strokes:!0,productivity:!0,calendarPreview:!0,activity:!0,suggestions:!1,teamOverview:!1,analytics:!1},theme:"light"},[o,a]=u.useState(()=>{try{const t=localStorage.getItem("pm:dashboard:prefs"),s=t?JSON.parse(t):i;return{...i,...s,widgets:{...i.widgets,...s.widgets||{}},theme:"light"}}catch{return i}});u.useEffect(()=>{try{localStorage.setItem("pm:dashboard:prefs",JSON.stringify(o))}catch{}},[o]),u.useEffect(()=>{document.documentElement.classList.remove("dark")},[o.theme]);const b=t=>{a(s=>({...s,widgets:{...s.widgets,[t]:!s.widgets[t]}}))},l=()=>a(t=>t.theme!=="light"?{...t,theme:"light"}:t),v=u.useRef(null);u.useEffect(()=>{function t(c){const n=v.current;n&&n.open&&!n.contains(c.target)&&(n.open=!1)}function s(c){if(c.key==="Escape"){const n=v.current;n&&n.open&&(n.open=!1)}}return document.addEventListener("pointerdown",t),document.addEventListener("keydown",s),()=>{document.removeEventListener("pointerdown",t),document.removeEventListener("keydown",s)}},[]);const[p,k]=u.useState(ie),[N,L]=u.useState(()=>{try{const t=localStorage.getItem("pm:calendarPreviewOrder"),s=t?JSON.parse(t):null;if(Array.isArray(s)&&s.length){const c=Object.fromEntries(U.map(n=>[n.id,n]));return s.map(n=>c[n]).filter(Boolean)}}catch{}return U}),[A,O]=u.useState(oe),[C,T]=u.useState(null),[m,h]=u.useState("");function f(t){h(`Added ${t}`),setTimeout(()=>h(""),2500),T(null)}const[S,w]=u.useState(()=>{try{return localStorage.getItem("pm:dashboard:seenTip")!=="1"}catch{return!0}}),W=()=>{w(!1);try{localStorage.setItem("pm:dashboard:seenTip","1")}catch{}},P=p.length?Math.round(p.reduce((t,s)=>t+s.progress,0)/p.length):0,I={tasksDueToday:3,overdue:1,appointments:N.length},j={productive:24,trap:6},[B,de]=u.useState([6,7,6,8,7,9,8]),[R,Q]=u.useState("Week"),[F,J]=u.useState("None"),[$,Y]=u.useState("all"),[G,z]=u.useState(null);u.useRef(null);function V(t){const[s,c]=String(t).split(":").map(g=>parseInt(g,10)||0),n=new Date;return n.setHours(s,c,0,0),n}function H(t){const s=Math.max(0,Math.round(t));if(s<60)return`${s}m`;const c=Math.floor(s/60),n=s%60;return n?`${c}h ${n}m`:`${c}h`}function q(t){const s=new Date,c=V(t.start),n=V(t.end);if(s<c){const y=(c-s)/6e4,D=y<=60;return{text:`in ${H(y)}`,className:D?"border border-yellow-400/40 text-yellow-700 bg-[Canvas]":"border border-[CanvasText]/20 text-[CanvasText] bg-[Canvas]"}}if(s>=c&&s<=n)return{text:"now",className:"border border-green-500/40 text-green-700 bg-[Canvas]"};const g=(s-n)/6e4;return{text:`${H(g)} ago`,className:"border border-[CanvasText]/20 text-[CanvasText] bg-[Canvas]"}}function M(t,s){try{const c=Array.isArray(s)?s.map(D=>D.join(",")).join(`
`):String(s),n=new Blob([c],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(n),y=document.createElement("a");y.href=g,y.download=t,y.click(),URL.revokeObjectURL(g)}catch{}}return e.jsxs("div",{className:"flex min-h-screen bg-[Canvas]",children:[e.jsx(K,{user:{name:"Hussein"}}),e.jsxs("main",{className:"flex-1 p-4 md:p-8 text-[CanvasText]",children:[e.jsx("div",{className:"mb-4 flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:l,className:"px-3 py-1 bg-[Canvas] border rounded",title:"Toggle theme",children:o.theme==="light"?"ðŸŒž Light":"ðŸŒ™ Dark"}),e.jsx("div",{className:"relative",children:e.jsxs("details",{ref:v,className:"relative",children:[e.jsx("summary",{className:"px-3 py-1 bg-[Canvas] border rounded cursor-pointer text-[CanvasText]",children:"Widgets"}),e.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-[Canvas] border rounded shadow p-3 z-40 max-h-80 overflow-auto text-[CanvasText]",children:Object.keys(o.widgets).map(t=>e.jsxs("label",{className:"flex items-center justify-between gap-2 mb-2 text-sm text-[CanvasText] opacity-90",children:[e.jsx("span",{className:"capitalize",children:t.replace(/([A-Z])/g," $1")}),e.jsx("input",{type:"checkbox",checked:o.widgets[t],onChange:()=>b(t)})]},t))})]})})]})}),S&&e.jsxs("div",{className:"mb-4 p-3 rounded border bg-blue-50 text-blue-900 flex items-center gap-3 dark:bg-blue-900/20 dark:text-blue-200",children:[e.jsx("span",{children:"New here? Take a 30-second tour of your dashboard."}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",onClick:()=>h("Tour is coming soon"),children:"Start Tour"}),e.jsx("button",{className:"ml-auto text-sm underline",onClick:W,children:"Dismiss"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4 mb-6",children:[o.widgets.myDay&&e.jsxs(E,{title:"My Day",tooltip:"Your daily schedule: appointments and tasks",href:"#/calendar",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:[I.tasksDueToday," tasks"]}),e.jsxs("div",{className:"text-xs text-[CanvasText] opacity-80",children:[I.overdue," overdue â€¢ ",I.appointments," appointments"]})]}),o.widgets.goals&&e.jsxs(E,{title:"Goals Progress",tooltip:"Average progress across your active goals",href:"#/goals",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:[P,"%"]}),e.jsx("div",{className:"mt-2 bg-gray-100 dark:bg-neutral-700 rounded h-2 overflow-hidden",children:e.jsx("div",{className:"h-2 bg-blue-500",style:{width:`${P}%`}})})]}),o.widgets.enps&&e.jsxs(E,{title:"eNPS",tooltip:"Employee Net Promoter Score (âˆ’100..+100)",href:"#/enps",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:"0"}),e.jsx("div",{className:"text-xs text-[CanvasText] opacity-80",children:"Survey status: up to date"})]}),o.widgets.strokes&&e.jsxs(E,{title:"Strokes",tooltip:"Recognition received and given",href:"#/recognition",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:A.received.length}),e.jsxs("div",{className:"text-xs text-[CanvasText] opacity-80",children:["received â€¢ ",A.given.length," given"]})]}),o.widgets.productivity&&e.jsxs(E,{title:"Productivity",tooltip:"Hours logged this week: productive vs trap",href:"#/analytics",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:[j.productive,"h"]}),e.jsxs("div",{className:"text-xs text-[CanvasText] opacity-80",children:["productive â€¢ ",j.trap,"h trap"]}),e.jsx("div",{className:"mt-2 w-full h-2 bg-gray-100 dark:bg-neutral-700 rounded overflow-hidden flex",children:(()=>{const t=j.productive+j.trap,s=j.productive/t*100,c=j.trap/t*100;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-2 bg-green-500",style:{width:`${s}%`}}),e.jsx("div",{className:"h-2 bg-red-500",style:{width:`${c}%`}})]})})()}),e.jsx("div",{className:"mt-2",children:(()=>{const t=B,s=120,c=28,n=10,g=t.map((y,D)=>{const _=D/Math.max(1,t.length-1)*s,Z=c-Math.min(n,Math.max(0,y))/n*c;return`${_},${Z}`}).join(" ");return e.jsx("svg",{viewBox:`0 0 ${s} ${c}`,className:"w-full h-7",children:e.jsx("polyline",{fill:"none",stroke:"#22c55e",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",points:g})})})()}),e.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[e.jsx("button",{className:"px-2 py-1 border rounded text-xs",title:"Export productivity summary",onClick:()=>{const t=j.productive+j.trap,s=j.productive/t*100;M("productivity-summary.csv",[["Metric","Value"],["Productive (h)",j.productive],["Trap (h)",j.trap],["Total (h)",t],["Productive (%)",s.toFixed(1)]])},children:"Export summary"}),e.jsx("button",{className:"px-2 py-1 border rounded text-xs",title:"Export productivity trend",onClick:()=>{const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=[["Label","Hours"],...B.map((c,n)=>[t[n]||`P${n+1}`,c])];M("productivity-trend.csv",s)},children:"Export trend"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-6",children:[o.widgets.enps&&e.jsxs("section",{className:"bg-[Canvas] rounded-2xl shadow p-6 border text-[CanvasText]",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-blue-700 dark:text-blue-400 mb-2",children:"eNPS Snapshot"}),e.jsxs("div",{className:"text-xs text-[CanvasText] opacity-60 flex items-center gap-2",children:[e.jsx("span",{title:"eNPS measures employee net promoter score; range -100 to +100",children:"â„¹ï¸"}),e.jsx("button",{className:"px-2 py-1 border rounded text-[CanvasText]",title:"Export eNPS report",onClick:()=>M("enps-report.csv",[["Week","Score"],...r.map((t,s)=>["W"+(s+1),t])]),children:"Export"})]})]}),e.jsx("a",{href:"#/enps",children:e.jsx(X,{data:r,labels:r.map((t,s)=>`W${s+1}`)})})]}),o.widgets.goals&&e.jsxs("section",{className:"bg-[Canvas] rounded-2xl shadow p-6 border text-[CanvasText]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-blue-700 dark:text-blue-400 mb-4",children:"Your active goals"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-2 py-1 border rounded text-sm",title:"Export goals",onClick:()=>{const t=["Title","Progress (%)","Status","Last updated"],s=g=>g>=70?"On track":g>=40?"At risk":"Behind",c=new Date().toISOString(),n=[t,...p.map(g=>[g.title,g.progress,s(g.progress),c])];M("goals-export.csv",n)},children:"Export"}),e.jsx("a",{href:"#/goals",className:"text-sm text-blue-600",children:"View all"})]})]}),p.length===0?e.jsxs("div",{className:"text-[CanvasText] opacity-70",children:["No goals yet."," ",e.jsx("a",{href:"#/goals",className:"text-blue-600",children:"Add one"}),"!"]}):e.jsx("ul",{className:"space-y-4",children:p.map((t,s)=>e.jsxs("li",{className:"p-3 border rounded",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"font-semibold",children:t.title}),e.jsxs("div",{className:"text-sm opacity-70",children:[t.progress,"%"]})]}),e.jsx("div",{className:"mt-2 bg-gray-100 dark:bg-neutral-700 rounded h-2 overflow-hidden",children:e.jsx("div",{className:"h-2 bg-blue-500",style:{width:`${t.progress}%`}})})]},s))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-6",children:[o.widgets.calendarPreview&&e.jsxs("section",{className:"bg-[Canvas] rounded-2xl shadow p-6 border text-[CanvasText]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-lg font-bold text-blue-700 dark:text-blue-400",children:"Calendar Preview (Today)"}),e.jsx("a",{href:"#/calendar",className:"text-sm text-blue-600",children:"Open Calendar"})]}),N.length===0?e.jsxs("div",{className:"text-[CanvasText] opacity-70",children:["No appointments today."," ",e.jsx("a",{href:"#/calendar",className:"text-blue-600",children:"Add appointment"}),"."]}):e.jsx(ee,{events:N,onReorder:t=>{L(t);try{localStorage.setItem("pm:calendarPreviewOrder",JSON.stringify(t.map(s=>s.id)))}catch{}},getCountdownBadge:q})]}),o.widgets.activity&&e.jsxs("section",{className:"bg-[Canvas] rounded-2xl shadow p-6 border text-[CanvasText]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-lg font-bold text-blue-700 dark:text-blue-400",children:"Whatâ€™s New"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{className:"border rounded text-sm bg-[Canvas]",value:$,onChange:t=>Y(t.target.value),title:"Filter feed",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"tasks",children:"Tasks"}),e.jsx("option",{value:"goals",children:"Goals"}),e.jsx("option",{value:"recognitions",children:"Recognitions"})]}),e.jsx("a",{href:"#/notifications",className:"text-sm text-blue-600",children:"Open Feed"})]})]}),e.jsx(te,{items:le.filter(t=>$==="all"?!0:$==="recognitions"?/stroke|recognition/i.test(t.desc):$==="goals"?/goal/i.test(t.desc):$==="tasks"?/task|moved/i.test(t.desc):!0),onItemClick:t=>z(t)})]})]}),o.widgets.quickAdd&&e.jsx(se,{onOpen:t=>T(t),message:m}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-6",children:[o.widgets.strokes&&e.jsxs("section",{className:"bg-[Canvas] rounded-2xl shadow p-6 border text-[CanvasText]",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h2",{className:"text-lg font-bold text-blue-700 dark:text-blue-400",children:"Strokes"})}),e.jsx(ae,{strokes:A})]}),o.widgets.suggestions&&e.jsxs("section",{className:"bg-[Canvas] rounded-2xl shadow p-6 border text-[CanvasText]",children:[e.jsx("h2",{className:"text-lg font-bold text-blue-700 dark:text-blue-400 mb-2",children:"Suggestions"}),e.jsxs("ul",{className:"list-disc pl-6 text-sm text-[CanvasText] opacity-80",children:[e.jsx("li",{children:'Recommend goal: "Automate weekly reporting" (template)'}),e.jsx("li",{children:"Next best action: Finish API tests before lunch"}),e.jsx("li",{children:"Insight: Youâ€™re most productive in the morning (9â€“12)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[o.widgets.teamOverview&&e.jsxs("section",{className:"bg-[Canvas] rounded-2xl shadow p-6 border text-[CanvasText]",children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-blue-700 dark:text-blue-400",children:"Team Performance Overview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsx("div",{className:"p-3 border rounded",children:"Team goals completion: 68%"}),e.jsx("div",{className:"p-3 border rounded",children:"Avg workload: 32h/week"}),e.jsx("div",{className:"p-3 border rounded",children:"eNPS trend: steady â†‘"}),e.jsx("div",{className:"p-3 border rounded",children:"Strokes leaderboard: Dana (5)"})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("button",{className:"px-3 py-1 border rounded text-sm",title:"Export team report",onClick:()=>M("team-overview.csv",[["Metric","Value"],["Team goals completion","68%"],["Avg workload","32h/week"],["eNPS trend","steady"],["Top recognitions","Dana (5)"]]),children:"Export report"})})]}),o.widgets.analytics&&e.jsxs("section",{className:"bg-[Canvas] rounded-2xl shadow p-6 border text-[CanvasText]",children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-blue-700 dark:text-blue-400",children:"Analytics"}),e.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"opacity-70",children:"Period:"}),e.jsxs("select",{className:"border rounded bg-[Canvas]",value:R,onChange:t=>Q(t.target.value),children:[e.jsx("option",{value:"Week",children:"Week"}),e.jsx("option",{value:"Month",children:"Month"})]}),e.jsx("span",{className:"opacity-70 ml-3",children:"Compare to:"}),e.jsxs("select",{className:"border rounded bg-[Canvas]",value:F,onChange:t=>J(t.target.value),children:[e.jsx("option",{value:"None",children:"None"}),e.jsx("option",{value:"Previous",children:"Previous"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 border rounded",children:[e.jsx("div",{className:"font-semibold text-sm mb-2",children:"Time usage"}),e.jsx(ne,{productive:j.productive,trap:j.trap})]}),e.jsxs("div",{className:"p-3 border rounded",children:[e.jsx("div",{className:"font-semibold text-sm mb-2",children:"Weekly trend"}),(()=>{const t=R==="Week"?[8,6,7,5,9,4,3]:[35,42,38,44],s=F==="Previous"?R==="Week"?[6,5,6,4,7,3,2]:[32,39,36,40]:[];return e.jsx(re,{values:t,compareValues:s})})()]})]})]})]}),C&&e.jsxs("div",{className:"fixed left-1/2 -translate-x-1/2 bottom-8 z-50 w-96 bg-[Canvas] border rounded shadow p-4 text-[CanvasText]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold",children:["Quick Add â€” ",C]}),e.jsx("button",{onClick:()=>T(null),className:"text-xs text-[CanvasText] opacity-60",children:"Close"})]}),e.jsx("input",{className:"w-full border rounded p-2 mb-2 bg-[Canvas]",placeholder:`Enter ${C} title`}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>T(null),className:"px-3 py-1 border rounded text-sm",children:"Cancel"}),e.jsx("button",{onClick:()=>f(C),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"Add"})]})]}),G&&e.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-[Canvas] text-[CanvasText] border rounded shadow p-4 w-[28rem]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-semibold",children:"Activity details"}),e.jsx("button",{className:"text-sm opacity-60",onClick:()=>z(null),children:"Close"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium mb-1",children:G.desc}),e.jsxs("div",{className:"opacity-70",children:["When: ",G.time," â€¢ Source: system"]})]})]})})]})]})}export{xe as default};
